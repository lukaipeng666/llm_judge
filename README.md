# ğŸ¯ LLM Judge Go

<div align="center">

**ä¸€ä¸ªå¼ºå¤§çš„å¤§è¯­è¨€æ¨¡å‹è¯„ä¼°ä¸è¯„åˆ†å¹³å°**

[![Python Version](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/)
[![Go Version](https://img.shields.io/badge/go-1.21+-00ADD8?logo=go)](https://golang.org/)
[![React](https://img.shields.io/badge/react-18-61DAFB?logo=react)](https://reactjs.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜) â€¢ [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—) â€¢ [å¼€å‘æ–‡æ¡£](#-å¼€å‘æ–‡æ¡£)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

LLM Judge Go æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å¤§è¯­è¨€æ¨¡å‹è¯„ä¼°å¹³å°ï¼Œæä¾›å®Œæ•´çš„æ¨¡å‹è¯„ä¼°ã€ä»»åŠ¡ç®¡ç†å’Œç»“æœå¯è§†åŒ–åŠŸèƒ½ã€‚æ— è®ºæ˜¯ç ”ç©¶è€…è¿˜æ˜¯å·¥ç¨‹å¸ˆï¼Œéƒ½å¯ä»¥é€šè¿‡æœ¬å¹³å°è½»æ¾è¿›è¡ŒLLMæ¨¡å‹çš„è´¨é‡è¯„ä¼°å’Œæ€§èƒ½åˆ†æã€‚

### âœ¨ æ ¸å¿ƒäº®ç‚¹

- ğŸš€ **é«˜æ€§èƒ½è¯„ä¼°** - æ”¯æŒæ‰¹é‡å¹¶è¡Œè¯„ä¼°ï¼Œå¤§å¹…æå‡è¯„ä¼°æ•ˆç‡
- ğŸ¨ **ç°ä»£åŒ–ç•Œé¢** - åŸºäº React + Ant Design çš„ç¾è§‚ Web UI
- ğŸ”§ **çµæ´»é…ç½®** - æ”¯æŒå¤šç§è¯„åˆ†ç®—æ³•å’Œè‡ªå®šä¹‰è¯„åˆ†æ’ä»¶
- ğŸ“Š **å¯è§†åŒ–æŠ¥å‘Š** - è¯¦ç»†çš„è¯„ä¼°æŠ¥å‘Šå’Œæ•°æ®åˆ†æ
- ğŸ›¡ï¸ **ä¼ä¸šçº§æ¶æ„** - å¾®æœåŠ¡è®¾è®¡ï¼Œæ”¯æŒé«˜å¹¶å‘å’Œæ°´å¹³æ‰©å±•

---

## ğŸ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” æ¨¡å‹è¯„ä¼°
- âœ… æ”¯æŒå¤šç§ LLM æ¨¡å‹ï¼ˆOpenAI API æ ¼å¼ã€VLLM ç­‰ï¼‰
- âœ… å†…ç½®å¤šç§è¯„åˆ†ç®—æ³•ï¼ˆROUGE ç­‰ï¼‰
- âœ… è‡ªå®šä¹‰è¯„åˆ†æ’ä»¶ç³»ç»Ÿ
- âœ… æ‰¹é‡å¹¶è¡Œè¯„ä¼°èƒ½åŠ›
- âœ… JSONL æ ¼å¼æ•°æ®æ”¯æŒ

### ğŸ–¥ï¸ Web ç®¡ç†ç•Œé¢
- âœ… ç›´è§‚çš„ä»ªè¡¨æ¿å’Œä»»åŠ¡ç®¡ç†
- âœ… å®æ—¶ä»»åŠ¡çŠ¶æ€ç›‘æ§
- âœ… æ•°æ®ç®¡ç†å’Œä¸Šä¼ 
- âœ… è¯¦ç»†çš„è¯„ä¼°æŠ¥å‘Šå±•ç¤º
- âœ… ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†

### âš™ï¸ åç«¯æœåŠ¡
- âœ… RESTful API è®¾è®¡
- âœ… JWT ç”¨æˆ·è®¤è¯
- âœ… SQLite æ•°æ®å­˜å‚¨
- âœ… Redis ç¼“å­˜æ”¯æŒ
- âœ… ä¼˜é›…çš„æœåŠ¡ç®¡ç†è„šæœ¬

### ğŸ“ˆ æ•°æ®åˆ†æ
- âœ… å¤šç»´åº¦è¯„ä¼°æŒ‡æ ‡ç»Ÿè®¡
- âœ… è¯„ä¼°ç»“æœå¯¼å‡º
- âœ… å†å²è®°å½•æŸ¥è¯¢
- âœ… è¶‹åŠ¿åˆ†æå›¾è¡¨

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
llm-judge_go/
â”œâ”€â”€ ğŸ“‚ backend/              # Go åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ cmd/                # æœåŠ¡å…¥å£
â”‚   â”‚   â”œâ”€â”€ database-service/    # æ•°æ®åº“æœåŠ¡
â”‚   â”‚   â””â”€â”€ web-api/             # Web API æœåŠ¡
â”‚   â”œâ”€â”€ internal/           # å†…éƒ¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ api/            # API å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ model/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ repository/     # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â””â”€â”€ service/        # æœåŠ¡å±‚
â”‚   â””â”€â”€ pkg/                # å…¬å…±åŒ…
â”‚
â”œâ”€â”€ ğŸ“‚ frontend/            # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/      # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stores/        # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ layouts/       # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ dist/              # æ„å»ºäº§ç‰©
â”‚
â”œâ”€â”€ ğŸ“‚ llm_judge/           # Python æ ¸å¿ƒè¯„ä¼°æ¨¡å—
â”‚   â”œâ”€â”€ data_load/         # æ•°æ®åŠ è½½
â”‚   â”œâ”€â”€ function_register/ # è¯„åˆ†å‡½æ•°æ³¨å†Œ
â”‚   â”œâ”€â”€ call_model/        # æ¨¡å‹è°ƒç”¨
â”‚   â”œâ”€â”€ batch/             # æ‰¹å¤„ç†
â”‚   â”œâ”€â”€ score/             # è¯„åˆ†æ¨¡å—
â”‚   â”œâ”€â”€ result_gen/        # ç»“æœç”Ÿæˆ
â”‚   â””â”€â”€ messages/          # æ¶ˆæ¯å¤„ç†
â”‚
â”œâ”€â”€ ğŸ“‚ data/                # æ•°æ®å­˜å‚¨ç›®å½•
â”œâ”€â”€ ğŸ“‚ logs/                # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”œâ”€â”€ ğŸ“„ config.yaml          # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ start.sh             # æœåŠ¡å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“„ stop.sh              # æœåŠ¡åœæ­¢è„šæœ¬
â””â”€â”€ ğŸ“„ requirements.txt     # Python ä¾èµ–
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- **Python**: 3.10+
- **Go**: 1.21+
- **Node.js**: 16+
- **Redis**: 6.0+

### ğŸ”§ å®‰è£…æ­¥éª¤

#### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd llm-judge_go
```

#### 2ï¸âƒ£ å®‰è£… Python ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 3ï¸âƒ£ å®‰è£…å‰ç«¯ä¾èµ–

```bash
cd frontend
npm install
cd ..
```

#### 4ï¸âƒ£ é…ç½®æœåŠ¡

ç¼–è¾‘ `config.yaml` æ–‡ä»¶ï¼Œé…ç½®å¿…è¦çš„å‚æ•°ï¼š

```yaml
# LLM æœåŠ¡é…ç½®
llm_service:
  api_url: "http://localhost:8000/v1"
  api_key: "your-api-key"
  model: "/path/to/your/model"

# ç®¡ç†å‘˜è´¦æˆ·
admin:
  username: "admin"
  password_hash: "your-password-hash"  # SHA256 åŠ å¯†
```

#### 5ï¸âƒ£ å¯åŠ¨æœåŠ¡

```bash
# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
bash start.sh
```

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨å¯åŠ¨ï¼š
- ğŸ—„ï¸ Redis æœåŠ¡ (ç«¯å£: 16387)
- ğŸ—ƒï¸ Go æ•°æ®åº“æœåŠ¡ (ç«¯å£: 16384)
- ğŸŒ Go Web API æœåŠ¡ (ç«¯å£: 16385)
- ğŸ¨ React å‰ç«¯æœåŠ¡ (ç«¯å£: 16386)

#### 6ï¸âƒ£ è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:16386`

é»˜è®¤ç®¡ç†å‘˜è´¦æˆ·ï¼š
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼šæŸ¥çœ‹ `config.yaml` ä¸­çš„é…ç½®

---

## âš™ï¸ é…ç½®è¯´æ˜

### ğŸ“„ config.yaml é…ç½®é¡¹

```yaml
# ==================== æœåŠ¡ç«¯å£é…ç½® ====================
database_service:
  port: 16384              # æ•°æ®åº“æœåŠ¡ç«¯å£

web_service:
  port: 16385              # Web API æœåŠ¡ç«¯å£

frontend_service:
  port: 16386              # å‰ç«¯æœåŠ¡ç«¯å£

redis_service:
  port: 16387              # Redis ç¼“å­˜æœåŠ¡ç«¯å£
  host: "localhost"

# ==================== LLM æœåŠ¡é…ç½® ====================
llm_service:
  api_url: "http://localhost:8000/v1"  # LLM API åœ°å€
  api_key: "sk-xxx"                     # API å¯†é’¥
  model: "/path/to/model"               # æ¨¡å‹è·¯å¾„
  timeout: 60                           # è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  max_retries: 3                        # æœ€å¤§é‡è¯•æ¬¡æ•°

# ==================== ç®¡ç†å‘˜é…ç½® ====================
admin:
  username: "admin"                     # ç®¡ç†å‘˜ç”¨æˆ·å
  password_hash: "xxx"                  # SHA256 åŠ å¯†çš„å¯†ç 

# ==================== JWT é…ç½® ====================
jwt:
  secret_key: "llm-judge-secret-key"   # JWT å¯†é’¥
  expire_hours: 24                      # Token è¿‡æœŸæ—¶é—´ï¼ˆå°æ—¶ï¼‰

# ==================== è¯„ä¼°é…ç½® ====================
evaluation:
  max_workers: 8                        # æœ€å¤§å¹¶è¡Œå·¥ä½œçº¿ç¨‹æ•°
  batch_size: 32                        # æ‰¹å¤„ç†å¤§å°
  default_scoring: "rouge"              # é»˜è®¤è¯„åˆ†ç®—æ³•
```

---

## ğŸ“š ä½¿ç”¨æŒ‡å—

### ğŸŒ Web ç•Œé¢ä½¿ç”¨

#### 1. ç™»å½•ç³»ç»Ÿ
- è®¿é—® `http://localhost:16386`
- ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•

#### 2. åˆ›å»ºè¯„ä¼°ä»»åŠ¡
- å¯¼èˆªåˆ°ã€Œè¯„ä¼°é¡µé¢ã€
- ä¸Šä¼  JSONL æ ¼å¼çš„æµ‹è¯•æ•°æ®
- é€‰æ‹©è¯„ä¼°æ¨¡å‹å’Œè¯„åˆ†ç®—æ³•
- æäº¤ä»»åŠ¡

#### 3. æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€
- åœ¨ã€Œä»»åŠ¡é¡µé¢ã€æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡
- å®æ—¶ç›‘æ§ä»»åŠ¡è¿›åº¦
- æŸ¥çœ‹ä»»åŠ¡æ—¥å¿—

#### 4. æŸ¥çœ‹è¯„ä¼°æŠ¥å‘Š
- åœ¨ã€ŒæŠ¥å‘Šé¡µé¢ã€æŸ¥çœ‹è¯„ä¼°ç»“æœ
- ä¸‹è½½è¯¦ç»†æŠ¥å‘Š
- åˆ†æè¯„ä¼°æ•°æ®

### ğŸ“ æ•°æ®æ ¼å¼

æµ‹è¯•æ•°æ®åº”ä¸º JSONL æ ¼å¼ï¼Œæ¯è¡Œä¸€ä¸ª JSON å¯¹è±¡ï¼š

```json
{
  "meta": {
    "meta_description": "ä»»åŠ¡æè¿°æˆ–ç³»ç»Ÿæç¤ºè¯"
  },
  "turns": [
    {
      "role": "Human",
      "text": "ç”¨æˆ·è¾“å…¥æˆ–é—®é¢˜"
    },
    {
      "role": "assistant",
      "text": "å‚è€ƒç­”æ¡ˆæˆ–æœŸæœ›è¾“å‡º"
    }
  ]
}
```

**æ•°æ®æ ¼å¼è¯´æ˜ï¼š**
- `meta.meta_description`: ä»»åŠ¡æè¿°æˆ–ç³»ç»Ÿæç¤ºè¯ï¼ˆå¯é€‰ï¼‰
- `turns`: å¯¹è¯è½®æ¬¡åˆ—è¡¨
  - `role`: è§’è‰²ï¼Œæ”¯æŒ "Human"ï¼ˆç”¨æˆ·ï¼‰æˆ– "assistant"ï¼ˆåŠ©æ‰‹ï¼‰
  - `text`: å¯¹è¯å†…å®¹

**ç¤ºä¾‹æ•°æ®ï¼š**

```json
{
  "meta": {
    "meta_description": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åŒ»ç–—é—®ç­”åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜æä¾›å‡†ç¡®çš„åŒ»ç–—å»ºè®®ã€‚"
  },
  "turns": [
    {
      "role": "Human",
      "text": "æ„Ÿå†’äº†åº”è¯¥æ€ä¹ˆåŠï¼Ÿ"
    },
    {
      "role": "assistant",
      "text": "æ„Ÿå†’æ—¶å»ºè®®å¤šä¼‘æ¯ã€å¤šå–æ°´ï¼Œæ³¨æ„ä¿æš–..."
    }
  ]
}
```

---

## ğŸ”§ å¼€å‘æ–‡æ¡£

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

#### åç«¯
- **è¯­è¨€**: Go 1.21+
- **æ¡†æ¶**: Gin Web Framework
- **æ•°æ®åº“**: SQLite
- **ç¼“å­˜**: Redis
- **è®¤è¯**: JWT

#### å‰ç«¯
- **æ¡†æ¶**: React 18
- **UI åº“**: Ant Design 5.0
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTP å®¢æˆ·ç«¯**: Axios
- **æ„å»ºå·¥å…·**: Vite

#### æ ¸å¿ƒæ¨¡å—
- **è¯­è¨€**: Python 3.10+
- **LLM é›†æˆ**: OpenAI API æ ¼å¼
- **è¯„åˆ†ç®—æ³•**: ROUGEã€è‡ªå®šä¹‰ç®—æ³•

### ğŸ”„ å¼€å‘å·¥ä½œæµ

#### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
bash start.sh
```

å¯åŠ¨è„šæœ¬ä¼šè‡ªåŠ¨å¯åŠ¨ï¼š
- ğŸ—„ï¸ Redis æœåŠ¡ (ç«¯å£: 16387)
- ğŸ—ƒï¸ Go æ•°æ®åº“æœåŠ¡ (ç«¯å£: 16384)
- ğŸŒ Go Web API æœåŠ¡ (ç«¯å£: 16385)
- ğŸ¨ React å‰ç«¯æœåŠ¡ (ç«¯å£: 16386)

#### åˆ†åˆ«å¯åŠ¨æœåŠ¡

```bash
# Go åç«¯æœåŠ¡
cd backend
go run cmd/web-api/main.go

# React å‰ç«¯æœåŠ¡
cd frontend
npm run dev
```

#### åœæ­¢æœåŠ¡

```bash
bash stop.sh
```

### ğŸ“¦ æ„å»ºç”Ÿäº§ç‰ˆæœ¬

#### åç«¯æ„å»º

```bash
cd backend
go build -o bin/web-api cmd/web-api/main.go
go build -o bin/database-service cmd/database-service/main.go
```

#### å‰ç«¯æ„å»º

```bash
cd frontend
npm run build
```

### ğŸ§ª æµ‹è¯•

```bash
# åç«¯æµ‹è¯•
cd backend
go test ./...

# å‰ç«¯æµ‹è¯•
cd frontend
npm test
```

---

## ğŸ“– API æ–‡æ¡£

### è®¤è¯æ¥å£

#### POST /api/auth/login
ç”¨æˆ·ç™»å½•

**è¯·æ±‚ä½“ï¼š**
```json
{
  "username": "admin",
  "password": "password"
}
```

**å“åº”ï¼š**
```json
{
  "code": 200,
  "data": {
    "token": "jwt-token",
    "user": {
      "id": 1,
      "username": "admin"
    }
  }
}
```

### ä»»åŠ¡ç®¡ç†æ¥å£

#### POST /api/task/create
åˆ›å»ºè¯„ä¼°ä»»åŠ¡

#### GET /api/task/list
è·å–ä»»åŠ¡åˆ—è¡¨

#### GET /api/task/:id
è·å–ä»»åŠ¡è¯¦æƒ…

### æ•°æ®ç®¡ç†æ¥å£

#### POST /api/data/upload
ä¸Šä¼ æµ‹è¯•æ•°æ®

#### GET /api/data/list
è·å–æ•°æ®åˆ—è¡¨

æ›´å¤š API æ–‡æ¡£è¯·å‚è€ƒï¼š[API è¯¦ç»†æ–‡æ¡£](docs/api.md)

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ğŸ“‹ ä»£ç è§„èŒƒ

- **Go**: éµå¾ª [Effective Go](https://golang.org/doc/effective_go) è§„èŒƒ
- **Python**: éµå¾ª [PEP 8](https://pep8.org/) è§„èŒƒ
- **React**: éµå¾ª [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript)

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ“ è”ç³»æ–¹å¼

- ğŸ’¼ **é¡¹ç›®ä¸»é¡µ**: [GitHub Repository](https://github.com/your-username/llm-judge_go)
- ğŸ› **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/your-username/llm-judge_go/issues)
- ğŸ“§ **é‚®ç®±**: your-email@example.com

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [Gin](https://github.com/gin-gonic/gin)
- [React](https://reactjs.org/)
- [Ant Design](https://ant.design/)
- [Zustand](https://github.com/pmndrs/zustand)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**

Made with â¤ï¸ by LLM Judge Team

</div>
